<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Upwork Match Intelligence</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="brand">
                <div class="logo-icon">MI</div>
                <h1>Match <span>Intel</span></h1>
            </div>
            <nav class="tabs">
                <button id="tab-settings" class="tab-btn active">Strategic Config</button>
                <button id="tab-tracker" class="tab-btn">Dossier Beta</button>
            </nav>
        </header>

        <main id="settings-view" class="view">
            <div class="view-content scrollable">
                <!-- Profile Calibration Status -->
                <div id="profile-status-card" class="status-card" style="display: none;">
                    <div class="status-header">
                        <span class="pulse-dot green"></span>
                        <h3>Intelligence Calibrated</h3>
                    </div>
                    <div class="profile-preview">
                        <div id="profile-name" class="name">---</div>
                        <div id="profile-title" class="title">---</div>
                    </div>
                    <button id="resync-profile-btn" class="text-link-btn">Force Re-Calibration</button>
                </div>

                <div id="quick-start-notice" class="onboarding-card">
                    <h3>Synchronize DNA</h3>
                    <p>Calibrate your profile to enable precision keyword extraction and automated scoring.</p>
                    <button id="open-profile-btn" class="primary-btn pulse">Begin High-Alpha Sync</button>
                </div>

                <!-- Strategic Core: Identity & AI -->
                <section class="config-section main-core">
                    <div class="section-header">
                        <span class="dot purple"></span>
                        <h2>Core Intelligence Hub</h2>
                    </div>
                    <div class="input-group">
                        <label>Public Profile URL</label>
                        <input type="text" id="myProfileUrl" placeholder="https://www.upwork.com/freelancers/~...">
                    </div>
                    <div class="grid-row">
                        <div class="input-group">
                            <label>Primary AI Model</label>
                            <select id="aiModel" class="premium-select">
                                <option value="none">Heuristics Only</option>
                                <option value="gemini">Google Gemini 1.5</option>
                                <option value="openai">OpenAI GPT-4o</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>AI API Key</label>
                            <input type="password" id="aiKey" placeholder="••••••••">
                        </div>
                    </div>
                    <p class="help-text small">Keys are encrypted and stored in local chrome sync storage.</p>
                </section>

                <section class="config-section">
                    <div class="section-header">
                        <span class="dot yellow"></span>
                        <h2>Economic Thresholds</h2>
                    </div>
                    <div class="grid-row">
                        <div class="input-group">
                            <label>$/hr Floor</label>
                            <input type="number" id="hourlyRateMin" placeholder="30">
                        </div>
                        <div class="input-group">
                            <label>$/hr Target</label>
                            <input type="number" id="hourlyRateMax" placeholder="100">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Fixed Budget Minimum ($)</label>
                        <input type="number" id="budgetMin" placeholder="1000">
                    </div>
                </section>

                <section class="config-section">
                    <div class="section-header">
                        <span class="dot blue"></span>
                        <h2>Skill Vectors & Filter</h2>
                    </div>
                    <div class="input-group">
                        <label>Expertise Matrix (Comma separated keywords)</label>
                        <textarea id="keywords" rows="2" placeholder="AI Architect, React Specialist..."></textarea>
                    </div>
                    <div class="input-group">
                        <label>Preferred Regions</label>
                        <input type="text" id="locations" placeholder="USA, UK, EU">
                    </div>
                    <div class="input-group">
                        <label>Blacklisted Zones</label>
                        <input type="text" id="blacklistedLocations" placeholder="Pakistan, India...">
                    </div>
                </section>

                <section class="config-section compact">
                    <div class="section-header">
                        <span class="dot"></span>
                        <h2>Automation Settings</h2>
                    </div>
                    <div class="grid-row">
                        <div class="input-group">
                            <label>Notify Threshold (%)</label>
                            <input type="number" id="minScoreToNotify" min="0" max="100" placeholder="85">
                        </div>
                        <div class="input-group">
                            <label>Auto-Reload (Min)</label>
                            <input type="number" id="reloadInterval" min="0" max="60" placeholder="0">
                        </div>
                    </div>
                    <div class="input-group checkbox-row">
                        <input type="checkbox" id="autoSaveEnabled">
                        <label for="autoSaveEnabled">Auto-Track High Alpha Opportunities</label>
                    </div>
                </section>
            </div>
            <footer class="view-footer">
                <button id="save-settings" class="primary-btn full-width">Deploy Configurations</button>
            </footer>
        </main>

        <main id="tracker-view" class="view" style="display: none;">
            <div id="saved-jobs-list" class="jobs-list scrollable">
                <div class="empty-state">
                    <p>No high-alpha opportunities tracked in current session.</p>
                </div>
            </div>
        </main>
    </div>
    <script src="popup.js"></script>
</body>
</html>
